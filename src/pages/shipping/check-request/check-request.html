<!--
  Generated template for the CheckRequestPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>check-request</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <div *ngIf="!request.finished && request.proverAddr == userAcc.getAddress()">
    <ion-input type="text" [(ngModel)]="encodedData"></ion-input>
    <button class="button-white" (click)="showProof()">Show QR code</button>
  </div>
  <form (ngSubmit)="broadcastRequest()">
    <ion-item>
      <ion-label>Request ID</ion-label>
      <ion-label>{{ request.requestId }}</ion-label>
    </ion-item>
    <ion-item>
      <ion-label>Seller address</ion-label>
      <ion-label>{{ request.proverAddr }}</ion-label>
    </ion-item>
    <ion-item>
      <ion-label>Shipment ID</ion-label>
      <ion-label>{{ request.shipmentId }}</ion-label>
    </ion-item>
    <ion-item>
      <ion-label>Seller Lat:</ion-label>
      <ion-label>{{ request.proverLat }}</ion-label>
    </ion-item>
    <ion-item>
      <ion-label>Seller Lng:</ion-label>
      <ion-label>{{ request.proverLng }}</ion-label>
    </ion-item>
    <ion-item>
      <ion-label>Hash Code:</ion-label>
      <ion-label>{{ request.signedHx }}</ion-label>
    </ion-item>
    <ion-item>
      <ion-label>Timestamp:</ion-label>
      <ion-label text-wrap>{{ request.timestamp }}</ion-label>
    </ion-item>
    <div *ngIf="!request.finished && request.proverAddr == userAcc.getAddress()">
      <button ion-button type="submit" class="submit" block>Finish and broadcast your request</button>
    </div>
    </form>
</ion-content>
